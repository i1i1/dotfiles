unbind -a

TERM='tmux-256color'
TERM_OVERRIDES=',*:Tc'
TO_CLIPBOARD='xsel -bi'
FROM_CLIPBOARD='xsel -bo'

set -g  prefix None
set -g  default-terminal   $TERM
set -ga terminal-overrides $TERM_OVERRIDES
set -g  default-command    "/bin/bash --rcfile ~/.sh/i1i1/runcfg"
set -g  base-index 1
set -g  set-titles on
set -g  status-keys vi
set -g  history-limit 10000
set -sg escape-time 0
set -sg display-time 4000
set -g  mouse on

setw -g monitor-activity on
setw -g mode-keys vi
setw -g automatic-rename on

bind -n MouseDown1Pane select-pane -t=\; send-keys -M
bind -n MouseDrag1Border resize-pane -M
bind -n WheelDownStatus next-window
bind -n WheelUpStatus previous-window
bind -n MouseDrag1Pane if -F '#{mouse_any_flag}' \
  'if -F "#{pane_in_mode}" "copy-mode -M" "send-keys -M"' 'copy-mode -M'
bind -n MouseDown3Pane if-shell -Ft= '#{mouse_any_flag}' \
  'select-pane; send-keys -M' 'select-pane -m'
bind -n WheelUpPane if-shell -Ft= '#{mouse_any_flag}' \
  'send-keys -M' 'if -F "#{pane_in_mode}" "send-keys -M" "copy-mode -e"'

bind -T copy-mode-vi MouseDown1Pane select-pane
bind -T copy-mode-vi MouseDrag1Pane select-pane \; send -X begin-selection
bind -T copy-mode-vi MouseDragEnd1Pane if -F '#{selection_present}' \
  'send-key -X copy-pipe-and-cancel $TO_CLIPBOARD'
bind -T copy-mode-vi WheelUpPane select-pane \; send -N5 -X scroll-up
bind -T copy-mode-vi WheelDownPane select-pane \; send -N5 -X scroll-down
bind -T copy-mode-vi DoubleClick1Pane select-pane \; send -X select-word
bind -T copy-mode-vi TripleClick1Pane select-pane \; send -X select-line

bind -n M-\; command-prompt

bind -n M-d detach
bind -n M-p pipe-pane -I $FROM_CLIPBOARD

bind -n M-t choose-tree

bind -n M-f command-prompt 'find-window %1'

bind -n M-h select-pane -L
bind -n M-j select-pane -D
bind -n M-k select-pane -U
bind -n M-l select-pane -R

bind -n M-s split-window -h -c '#{pane_current_path}'
bind -n M-i split-window -v -c '#{pane_current_path}'

bind -n M-w new-window
bind -n M-c new-window -c '#{pane_current_path}'
bind -n M-b previous-window
bind -n M-n next-window

bind -n M-1 select-window -t 1
bind -n M-2 select-window -t 2
bind -n M-3 select-window -t 3
bind -n M-4 select-window -t 4
bind -n M-5 select-window -t 5
bind -n M-6 select-window -t 6
bind -n M-7 select-window -t 7
bind -n M-8 select-window -t 8
bind -n M-9 select-window -t 9

bind -n M-[ copy-mode
bind -n M-/ copy-mode \; send-keys ?

bind -T copy-mode-vi y if -F '#{selection_present}' \
  'send-key -X copy-pipe-and-cancel $TO_CLIPBOARD'
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi Escape send-keys -X cancel
